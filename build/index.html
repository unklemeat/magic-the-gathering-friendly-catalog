<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MTG Prices — Scryfall API Real-time</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">

    <script>
        window.__APP_CONFIG__ = {"firebase":{"apiKey":"AIzaSyDb319lhxBAJkJvUzGumawql_h3FgvM4wE","authDomain":"mgtcard-69eec.firebaseapp.com","projectId":"mgtcard-69eec","storageBucket":"mgtcard-69eec.firebasestorage.app","messagingSenderId":"396141942425","appId":"1:396141942425:web:9ffaab71d84db599e84a08","measurementId":""},"app":{"appId":"1:396141942425:web:9ffaab71d84db599e84a08"},"auth":{"sharePassword":"mtg2024friends"}};
    </script>
    </head>
<body class="bg-gray-50 text-gray-900 font-sans transition-colors duration-300">
    <!-- Login overlay (shown by default) -->
    <div id="loginOverlay" class="fixed inset-0 bg-gray-900 bg-opacity-50 z-50 flex items-center justify-center">
        <div class="bg-white rounded-xl p-8 shadow-2xl max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Access Required</h2>
                <p class="text-gray-600">Enter the password to access the MTG Collection Tracker</p>
            </div>
            
            <form id="loginForm" class="space-y-4">
                <div>
                    <label for="passwordInput" class="block text-sm font-medium text-gray-700 mb-2">
                        Password
                    </label>
                    <input 
                        type="password" 
                        id="passwordInput" 
                        class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"
                        placeholder="Enter password"
                        required
                        autocomplete="current-password"
                    >
                </div>
                
                <div id="loginError" class="hidden text-red-600 text-sm text-center"></div>
                
                <button 
                    type="submit" 
                    class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 hover:scale-105"
                >
                    Access App
                </button>
            </form>
            
            <div class="mt-4 text-center text-sm text-gray-500">
                <p>This app is shared with friends only</p>
            </div>
        </div>
    </div>

    <!-- Main app content (hidden by default) -->
    <div id="app" class="hidden">

<nav class="bg-gray-800 text-white p-4 shadow-lg sticky top-0 z-50">
    <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center gap-4">
        <h1 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500 cursor-pointer" data-lang-key="title">MTG Friendly Catalog</h1>
        <div class="flex items-center gap-4">
            <!-- Language selector as a dropdown -->
            <select id="lang-select" class="lang-select bg-gray-700 text-white rounded-full px-4 py-2 pr-6 text-sm focus:outline-none focus:ring-2 focus:ring-gray-400">
                <option value="ita">Italiano</option>
                <option value="eng">English</option>
            </select>
            <div class="api-status-container flex items-center gap-2">
                <span id="statusIcon" class="w-3 h-3 rounded-full"></span>
                <button id="statusBtn" class="bg-gray-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400 font-medium rounded-full text-sm px-5 py-2.5 text-center transition-colors" data-lang-key="apiStatusBtn">API Ok</button>
            </div>
        </div>
    </div>
</nav>

<main class="container mx-auto p-4">
    <!-- Progress Section -->
    <div id="progress-section" class="bg-white rounded-lg shadow-xl p-6 mb-6">
        <div id="progress" class="mt-4 hidden">
            <div class="progress-bar rounded-lg overflow-hidden h-4 bg-gray-200">
                <div class="progress-fill h-full bg-emerald-500 transition-all duration-300" id="progressFill"></div>
            </div>
            <span id="progressText" class="text-sm mt-1 block" data-lang-key="processing">Elaborazione...</span>
        </div>
    </div>

    <!-- Tabbed Interface -->
    <div class="bg-white rounded-lg shadow-xl p-6 mb-6">
        <div class="flex border-b border-gray-200">
            <button class="tab-button active py-2 px-4 font-semibold transition-colors duration-200 border-b-2 -mb-px hover:text-purple-700 text-purple-700 border-purple-500" data-tab="search-tab" data-lang-key="tabSearch">Cerca Carta</button>
            <button class="tab-button py-2 px-4 font-semibold transition-colors duration-200 border-b-2 -mb-px hover:text-purple-700 text-gray-500 border-transparent" data-tab="decks-tab" data-lang-key="tabDecks">Mazzi</button>
            <button class="tab-button py-2 px-4 font-semibold transition-colors duration-200 border-b-2 -mb-px hover:text-purple-700 text-gray-500 border-transparent" data-tab="explore-tab" data-lang-key="tabExplore">Esplora Espansioni</button>
            <button class="tab-button py-2 px-4 font-semibold transition-colors duration-200 border-b-2 -mb-px hover:text-purple-700 text-gray-500 border-transparent" data-tab="csv-tab" data-lang-key="tabCsv">Carica CSV</button>
            <button class="tab-button py-2 px-4 font-semibold transition-colors duration-200 border-b-2 -mb-px hover:text-purple-700 text-gray-500 border-transparent" data-tab="data-tab" data-lang-key="tabData">Gestisci Dati</button>
        </div>
        
        <div id="search-tab" class="tab-content pt-4">
            <h2 class="text-xl font-bold mb-4" data-lang-key="searchCardTitle"></h2>
            <div class="flex flex-col md:flex-row items-stretch gap-4">
                <div class="relative flex-grow flex items-center">
                    <input type="text" id="cardNameInput" placeholder="Inserisci il nome della carta o parla..." class="flex-grow p-3 pr-10 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors" data-lang-placeholder="searchPlaceholder" />
                    <button id="voiceSearchBtn" class="absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-gray-200 hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" data-lang-title="voiceSearchTooltip">
                        <svg id="mic-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 text-gray-600">
                            <path d="M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z" />
                            <path d="M15.75 17.25a.75.75 0 0 1-.75.75h-7.5a.75.75 0 0 1-.75-.75.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 .75.75ZM9.75 17.25a.75.75 0 0 1-.75-.75V12a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-.75.75h-4.5Z" />
                            <path d="M12 20.25a4.5 4.5 0 0 0 4.5-4.5V12a.75.75 0 0 1 1.5 0v3.75a6 6 0 0 1-12 0V12a.75.75 0 0 1 1.5 0v3.75a4.5 4.5 0 0 0 4.5 4.5Z" />
                        </svg>
                        <span id="mic-unsupported-icon" class="absolute inset-0 flex items-center justify-center text-red-500 font-bold text-xl hidden">/</span>
                    </button>
                </div>
                <button id="searchCardBtn" class="w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 hover:scale-105" data-lang-key="searchAddBtn" data-lang-loading="Cerca..." data-lang-completed="Cerca & Aggiungi">Cerca & Aggiungi</button>
            </div>
        </div>

        <div id="decks-tab" class="tab-content pt-4 hidden">
            <div id="decks-list" class="decks-list">
                <h2 class="text-xl font-bold mb-4" data-lang-key="decksTitle">I Miei Mazzi</h2>
                <div class="flex flex-col md:flex-row items-stretch gap-4 mb-4">
                    <input type="text" id="newDeckNameInput" placeholder="Inserisci il nome del nuovo mazzo..." class="flex-grow p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors" data-lang-placeholder="newDeckPlaceholder" />
                    <button id="createDeckBtn" class="w-full md:w-auto bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 hover:scale-105" data-lang-key="createDeckBtn">Crea Mazzo</button>
                </div>
                <div id="decks-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Deck cards will be loaded here -->
                </div>
            </div>
            
            <div id="deck-editor" class="deck-editor hidden">
                <button id="backToDecksBtn" class="bg-gray-400 hover:bg-gray-500 text-white font-semibold py-2 px-4 rounded-full shadow-lg transition-all duration-300 mb-4" data-lang-key="backBtn">Indietro</button>
                <input type="text" id="deck-editor-name-input" class="text-xl font-bold mb-4 w-full p-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" />
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Left column: Current Deck -->
                    <div class="my-deck-container">
                        <h3 class="text-lg font-bold mb-2" data-lang-key="myDeckTitle">Il Mio Mazzo</h3>
                        <div id="deck-list-container" class="space-y-2">
                            <!-- Cards in the current deck will be loaded here -->
                        </div>
                    </div>

                    <!-- Right column: Card Collection -->
                    <div class="collection-container">
                        <h3 class="text-lg font-bold mb-2" data-lang-key="collectionTitle">La Mia Collezione</h3>
                        <input type="text" id="collectionSearchInput" placeholder="Filtra carte dalla tua collezione..." class="w-full p-2 mb-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500" data-lang-placeholder="filterCollectionPlaceholder">
                        <div id="collection-cards-grid" class="grid grid-cols-2 sm:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto">
                            <!-- Cards from the collection will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="explore-tab" class="tab-content pt-4 hidden">
            <h2 class="text-xl font-bold mb-4" data-lang-key="exploreTitle">Esplora Espansioni</h2>
            <div class="flex flex-col md:flex-row items-center gap-4 mb-4">
                <label for="setSelect" class="font-semibold" data-lang-key="selectSetLabel">Seleziona un'espansione:</label>
                <select id="setSelect" class="bg-gray-100 border-2 border-gray-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-purple-500 flex-grow"></select>
            </div>
            <div id="setCardsContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
                <!-- Card previews will be loaded here -->
            </div>
        </div>
        
        <div id="csv-tab" class="tab-content pt-4 hidden">
            <h2 class="text-xl font-bold mb-4" data-lang-key="csvTitle">Carica CSV con elenco carte</h2>
            <input type="file" id="csvFile" accept=".csv,text/csv" class="w-full mb-2 text-gray-800 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100 transition-colors" />
            <button id="processCsv" class="w-full md:w-auto bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 hover:scale-105" data-lang-key="processCsvBtn" data-lang-loading="Elaborazione..." data-lang-completed="Elabora CSV">Elabora CSV</button>
        </div>
        
        <div id="data-tab" class="tab-content pt-4 hidden">
            <h2 class="text-xl font-bold mb-4" data-lang-key="dataTitle">Gestisci Dati Applicazione</h2>
            <!-- Sezione Collezione -->
            <div class="mb-8 p-4 border rounded-lg">
                <h3 class="text-lg font-semibold mb-3" data-lang-key="collectionDataTitle">Gestisci La mia Collezione</h3>
                <div class="flex flex-col md:flex-row gap-4">
                    <button id="saveJsonBtn" class="w-full md:w-auto bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 hover:scale-105" data-lang-key="saveJsonBtn">Salva Collezione</button>
                    <label for="loadJsonFile" class="w-full md:w-auto bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 hover:scale-105 text-center cursor-pointer" data-lang-key="loadJsonLabel">Carica Collezione</label>
                    <input type="file" id="loadJsonFile" accept=".json,application/json" class="hidden" />
                </div>
            </div>
            <!-- Sezione Mazzi -->
            <div class="p-4 border rounded-lg">
                <h3 class="text-lg font-semibold mb-3" data-lang-key="decksDataTitle">Gestisci i Mazzi</h3>
                <div class="flex flex-col md:flex-row gap-4">
                    <button id="saveDecksBtn" class="w-full md:w-auto bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 hover:scale-105" data-lang-key="saveDecksBtn">Salva Mazzi</button>
                    <label for="loadDecksFile" class="w-full md:w-auto bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 hover:scale-105 text-center cursor-pointer" data-lang-key="loadDecksLabel">Importa Mazzi</label>
                    <input type="file" id="loadDecksFile" accept=".json,application/json" class="hidden" />
                </div>
            </div>
        </div>
    </div>
    
    <!-- Results section -->
    <div id="resultsSection" class="bg-white rounded-lg shadow-xl p-6">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold" data-lang-key="resultsTitle">Collezione</h2>
            <div id="collectionTotals" class="text-right">
                <p class="text-sm font-semibold text-gray-700" data-lang-key="totalValueLabel">
                    Valore Totale: 
                    <span id="totalEur" class="font-bold text-green-600">€0.00</span> | 
                    <span id="totalUsd" class="font-bold text-blue-600">$0.00</span>
                </p>
            </div>
        </div>
        
        <!-- Language selector and color filter section -->
        <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-4">
            <div class="flex flex-wrap items-center gap-2">
                <label class="color-filter-label" for="filter-all">
                    <input type="checkbox" id="filter-all" class="h-4 w-4 text-purple-600 form-checkbox rounded" data-color="all" checked>
                    <span class="ml-2 text-gray-700 font-semibold" data-lang-key="filterAll">Tutti</span>
                </label>
                <label class="color-filter-label" for="filter-W">
                    <input type="checkbox" id="filter-W" class="h-4 w-4 text-purple-600 form-checkbox rounded" data-color="W">
                    <span class="ml-2 text-gray-700 font-semibold" data-lang-key="filterWhite">Bianco</span>
                </label>
                <label class="color-filter-label" for="filter-U">
                    <input type="checkbox" id="filter-U" class="h-4 w-4 text-purple-600 form-checkbox rounded" data-color="U">
                    <span class="ml-2 text-gray-700 font-semibold" data-lang-key="filterBlue">Blu</span>
                </label>
                <label class="color-filter-label" for="filter-B">
                    <input type="checkbox" id="filter-B" class="h-4 w-4 text-purple-600 form-checkbox rounded" data-color="B">
                    <span class="ml-2 text-gray-700 font-semibold" data-lang-key="filterBlack">Nero</span>
                </label>
                <label class="color-filter-label" for="filter-R">
                    <input type="checkbox" id="filter-R" class="h-4 w-4 text-purple-600 form-checkbox rounded" data-color="R">
                    <span class="ml-2 text-gray-700 font-semibold" data-lang-key="filterRed">Rosso</span>
                </label>
                <label class="color-filter-label" for="filter-G">
                    <input type="checkbox" id="filter-G" class="h-4 w-4 text-purple-600 form-checkbox rounded" data-color="G">
                    <span class="ml-2 text-gray-700 font-semibold" data-lang-key="filterGreen">Verde</span>
                </label>
                <label class="color-filter-label" for="filter-multi">
                    <input type="checkbox" id="filter-multi" class="h-4 w-4 text-purple-600 form-checkbox rounded" data-color="multi">
                    <span class="ml-2 text-gray-700 font-semibold" data-lang-key="filterMulti">Multicolore</span>
                </label>
                <label class="color-filter-label" for="filter-incolor">
                    <input type="checkbox" id="filter-incolor" class="h-4 w-4 text-purple-600 form-checkbox rounded" data-color="incolor">
                    <span class="ml-2 text-gray-700 font-semibold" data-lang-key="filterColorless">Incolore/Terre</span>
                </label>
            </div>
        </div>
        
        <!-- Search Input for Collection -->
        <div class="mb-4 flex gap-2">
            <input type="text" id="collectionFilterInput" class="flex-grow p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors" data-lang-placeholder="collectionFilterPlaceholder" />
            <button id="collectionSearchBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg" data-lang-key="collectionSearchBtn"></button>
            <button id="collectionResetBtn" class="bg-gray-400 hover:bg-gray-500 text-white font-semibold py-3 px-4 rounded-xl shadow-lg" data-lang-key="collectionResetBtn"></button>
        </div>
        
        <div class="table-container">
            <table id="resultsTable" class="w-full rounded-lg">
                <thead>
                    <tr class="bg-gray-200">
                        <th class="py-3 px-4 rounded-tl-lg border" data-lang-key="tableColNum">#</th>
                        <th class="py-3 px-4 border" data-lang-key="tableColImage">Immagine</th>
                        <th class="py-3 px-4 sortable border" data-sort="ita-name" data-lang-key="tableColNameIta">Nome ITA<span class="sort-icon"></span></th>
                        <th class="py-3 px-4 sortable border" data-sort="eng-name" data-lang-key="tableColNameEng">Nome ENG<span class="sort-icon"></span></th>
                        <th class="py-3 px-4 sortable border" data-sort="color" data-lang-key="tableColColor">Colore<span class="sort-icon"></span></th>
                        <th class="py-3 px-4 sortable border" data-sort="set" data-lang-key="tableColSet">Set<span class="sort-icon"></span></th>
                        <th class="py-3 px-4 sortable border" data-sort="eur-price" data-lang-key="tableColPriceEur">Prezzo EUR<span class="sort-icon"></span></th>
                        <th class="py-3 px-4 sortable border" data-sort="usd-price" data-lang-key="tableColPriceUsd">Prezzo USD<span class="sort-icon"></span></th>
                        <th class="py-3 px-4 border" data-lang-key="tableColDetails">Dettagli</th>
                        <th class="py-3 px-4 rounded-tr-lg border" data-lang-key="tableColAction">Azione</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
         <!-- Pagination Controls -->
        <div id="paginationControls" class="flex justify-between items-center mt-4">
            <button id="prevPageBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed" data-lang-key="prevPageBtn"></button>
            <div class="flex items-center gap-4">
                 <span id="pageInfo" class="text-gray-700 font-semibold"></span>
                 <div class="flex items-center gap-2">
                    <label for="pageSizeSelect" class="text-sm font-medium text-gray-700" data-lang-key="pageSizeLabel"></label>
                    <select id="pageSizeSelect" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 p-2">
                        <option value="50" selected>50</option>
                        <option value="100">100</option>
                        <option value="500">500</option>
                    </select>
                 </div>
            </div>
            <button id="nextPageBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed" data-lang-key="nextPageBtn"></button>
        </div>
    </div>
</main>

<!-- Generic Modal -->
<div id="customModal" class="modal-overlay hidden">
  <div class="modal-content bg-gray-100 rounded-xl p-6 shadow-2xl">
    <p id="modalMessage" class="text-lg text-gray-800 mb-6 text-center"></p>
    <div id="modalButtons" class="flex justify-center gap-4">
      <button id="modalOkBtn" class="bg-emerald-500 hover:bg-emerald-600 text-white font-semibold py-2 px-4 rounded-full transition-colors" data-lang-key="okBtn">OK</button>
      <button id="modalCancelBtn" class="bg-gray-400 hover:bg-gray-500 text-white font-semibold py-2 px-4 rounded-full transition-colors hidden" data-lang-key="cancelBtn">Annulla</button>
    </div>
  </div>
</div>

<!-- Card Details Modal -->
<div id="cardDetailsModal" class="modal-overlay hidden">
  <div class="card-details-modal bg-gray-800 rounded-xl p-6 shadow-2xl relative">
    <button id="closeDetailsModalBtn" class="absolute top-4 right-4 text-gray-400 hover:text-white transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
        <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
      </svg>
    </button>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
        <div id="cardImageContainer" class="flex flex-col gap-4">
            <!-- Card images will be inserted here -->
        </div>
        <div>
            <h3 id="cardNameInModal" class="text-xl font-bold text-white mb-2"></h3>
            <p id="cardDescriptionInModal" class="text-gray-300 text-sm whitespace-pre-wrap"></p>
            <button id="addToCollectionBtn" class="mt-4 w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-full shadow-lg transition-all duration-300" data-lang-key="addToCollectionBtn">Aggiungi alla Collezione</button>
        </div>
    </div>
  </div>
</div>

<!-- Card Selection Modal -->
<div id="cardSelectionModal" class="modal-overlay hidden">
    <div class="card-selection-modal bg-gray-100 rounded-xl p-6 shadow-2xl relative">
        <button id="closeSelectionModalBtn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
            </svg>
        </button>
        <h3 id="selectionModalTitle" class="text-xl font-bold text-gray-900 mb-4" data-lang-key="selectionModalTitle">Seleziona una carta:</h3>
        <div id="cardSelectionGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-h-[70vh] overflow-y-auto">
            <!-- Cards will be dynamically inserted here -->
        </div>
    </div>
</div>

    </div> <!-- End of app div -->

<script type="module" src="js/app.js"></script>
</body>
</html>
